# Микросервис для визуализации данных

Этот микросервис предназначен для обработки загрузки данных, их хранения и визуализации данных об землетрясениях. Пользователи могут загружать данные об землетрясениях непосредственно и микросервис сохранит данные на диске и информацию о них в базе данных. Пользователю будет предложено предоставить необходимую информацию, такую как дата и тип данных, связанных с загружаемыми данными.

## Конечные точки (Endpoints)

### 1. Создание пользователя

- **Endpoint:** `POST /users/`
- **Модель запроса:** `UserIn`
- **Модель ответа:** `UserOut`
- **Описание:** Создает нового пользователя и сохраняет его информацию в базе данных. Пользователь идентифицируется по электронной почте.

### 2. Загрузка файлов

- **Endpoint:** `POST /upload_files`
- **Параметры запроса:**
  - `email`: Электронная почта пользователя (параметр пути)
  - `date_eq_start`: Дата начала данных о сейсмической активности
  - `date_eq_end`: Дата окончания данных о сейсмической активности
  - `file`: Файл с данными об землетрясении, который требуется загрузить (multipart/form-data)
- **Описание:** Позволяет пользователям загружать файлы с данными об землетрясении. Данные могут быть загружены непосредственно. Данные и связанная информация (дата, тип) будут сохранены на диске и в базе данных.

### 3. Получение файлов по дате

- **Endpoint:** `GET /get_files/{email}/{date}`
- **Параметры запроса:**
  - `email`: Электронная почта пользователя (параметр пути)
  - `date`: Дата, для которой запрашиваются данные (параметр пути)
- **Описание:** Извлекает данные об землетрясении для определенного пользователя и даты из базы данных.

### 4. Получение последней загрузки

- **Endpoint:** `GET /get_last_upload/{email}`
- **Параметры запроса:** `email`: Электронная почта пользователя (параметр пути)
- **Описание:** Получает самую последнюю загрузку данных об землетрясении для определенного пользователя.

### 5. Создание графика

- **Endpoint:** `POST /create_plot/`


- **Параметры запроса:**
  - `email`: Электронная почта пользователя (multipart/form-data)
  - `plot_info`: Информация о графике (модель `Plot`)
- **Описание:** Создает график на основе данных об землетрясении и предоставляет его пользователю. График сохраняется и возвращается пользователю в виде изображения.

### 6. Создание графика расстояния-времени

- **Endpoint:** `POST /create_plot_distance_time/`
- **Параметры запроса:**
  - `email`: Электронная почта пользователя (multipart/form-data)
  - `plot_info`: Информация о графике расстояния-времени (модель `PlotDT`)
- **Описание:** Создает график расстояния-времени на основе данных об землетрясении и предоставляет его пользователю. График сохраняется и возвращается пользователю в виде изображения.

### 7. Получение результатов

- **Endpoint:** `GET /results/{email}`
- **Параметры запроса:** `email`: Электронная почта пользователя (параметр пути)
- **Описание:** Извлекает результаты графиков, созданных пользователем, из базы данных.

## Дополнительная информация

- Микросервис использует фреймворк FastAPI для создания API-точек.
- Для хранения информации о пользователях, загруженных файлах и результатов графиков используется база данных.
- Важные события и ошибки записываются в файл `app.log`, а информационные сообщения выводятся в консоль.


